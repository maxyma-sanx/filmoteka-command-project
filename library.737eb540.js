!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n("lFNJ6"),n("dSzMP");var i=n("bpxeT"),l=n("2TvXO"),s=n("4Nugj"),u=n("iU1Pc"),c=n("f7J5Q"),d=n("xjavX"),o=n("cA2C5"),f=n("ayUZl"),p="current",y=new(0,c.default),v=JSON.parse(localStorage.getItem("watched")),h=JSON.parse(localStorage.getItem(p));function b(){return(b=e(i)(e(l).mark((function t(){var r,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.default.watchedBtn.classList.add("header__library-btn--active"),s.default.queueBtn.classList.remove("header__library-btn--active"),r=s.default.watchedBtn.classList,a=r[1],localStorage.setItem(p,JSON.stringify(a)),m();case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function m(){return L.apply(this,arguments)}function L(){return L=e(i)(e(l).mark((function t(){var r,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v){t.next=2;break}return t.abrupt("return");case 2:return u.Loading.standard(),t.next=5,Promise.all(v.map(function(){var t=e(i)(e(l).mark((function t(r){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.fetchMovieDetails(r,f.default);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return(r=t.sent)&&(s.default.myLibraryWrap.children[0].style.display="block",s.default.myLibraryWrap.children[1].style.display="block",u.Loading.remove()),t.next=9,(0,d.default)(r);case 9:a=t.sent,s.default.movies.innerHTML=a,a.includes('li class="movies__item"')&&(s.default.myLibraryWrap.children[0].style.display="none",s.default.myLibraryWrap.children[1].style.display="none"),u.Loading.remove();case 13:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}h||(s.default.watchedBtn.classList.add("header__library-btn--active"),s.default.queueBtn.classList.remove("header__library-btn--active"),m()),"header__library-btn--watched"===h&&(s.default.watchedBtn.classList.add("header__library-btn--active"),s.default.queueBtn.classList.remove("header__library-btn--active"),m()),s.default.movies.addEventListener("click",o.default),s.default.watchedBtn.addEventListener("click",(function(){return b.apply(this,arguments)}));i=n("bpxeT"),l=n("2TvXO"),s=n("4Nugj"),u=n("iU1Pc"),c=n("f7J5Q"),d=n("xjavX"),o=n("cA2C5"),f=n("ayUZl");var g="current",_=new(0,c.default),w=JSON.parse(localStorage.getItem("queue"));function x(){return(x=e(i)(e(l).mark((function t(){var r,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.default.watchedBtn.classList.remove("header__library-btn--active"),s.default.queueBtn.classList.add("header__library-btn--active"),r=s.default.queueBtn.classList,a=r[1],localStorage.setItem(g,JSON.stringify(a)),k();case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function k(){return B.apply(this,arguments)}function B(){return B=e(i)(e(l).mark((function t(){var r,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w){t.next=2;break}return t.abrupt("return");case 2:return u.Loading.standard(),t.next=5,Promise.all(w.map(function(){var t=e(i)(e(l).mark((function t(r){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchMovieDetails(r,f.default);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return(r=t.sent)&&(s.default.myLibraryWrap.children[0].style.display="block",s.default.myLibraryWrap.children[1].style.display="block",u.Loading.remove()),t.next=9,(0,d.default)(r);case 9:a=t.sent,s.default.movies.innerHTML=a,a.includes('li class="movies__item"')&&(s.default.myLibraryWrap.children[0].style.display="none",s.default.myLibraryWrap.children[1].style.display="none"),u.Loading.remove();case 13:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}"header__library-btn--queue"===JSON.parse(localStorage.getItem(g))&&(s.default.watchedBtn.classList.remove("header__library-btn--active"),s.default.queueBtn.classList.add("header__library-btn--active"),k()),s.default.movies.addEventListener("click",o.default),s.default.queueBtn.addEventListener("click",(function(){return x.apply(this,arguments)})),n("jQ16p"),n("iWSzm");s=n("4Nugj"),u=n("iU1Pc");var S=n("gQOBw"),O=n("3WUaf"),N=(0,S.getAuth)(O.app);s.default.googleSignOutFromLibrary.addEventListener("click",(function(){(0,S.signOut)(N).then((function(){localStorage.removeItem("auth")})).catch((function(e){u.Notify.failure("".concat(e.message))}))})),n("lPetd"),n("9XnBY")}();
//# sourceMappingURL=library.737eb540.js.map
